{% import 'erpnext/templates/macros.html' as macros %}

{{ macros.breadcrumb([{'label':'Home','url':'/'},{'label':'Production','url':'/'},{'label':'Uniform','url':'#'}]) }}


<h2>{{_("Uniform Order Dispatch")}}</h2>

<div id="container" class="container">
    {% for primaryKey,primaryValue in orderSets.items()%}
    <div class="card" style="width: 100%;">
        <div class="card-body">

            <div style="text-align: center;flex: 0 0 12.667%;">
                <span id="client">{{posSets[primaryKey]['client']}}</span>
                {% if posSets[primaryKey]['pos'] %}
                <span style="padding-left:6%" id="pos"
                    data-pos="{{posSets[primaryKey]['posName']}}">{{posSets[primaryKey]['pos']}}</span>
                {%endif%}
                <hr style="width: 40%;">
            </div>
            {%for recieverKey,recieverValue in orderSets[primaryKey].items()%}
            {%for uniforNameKey,uniformNameValue in orderSets[primaryKey][recieverKey].items()%}
            <div class="row segment">
                <div class="col-1" style="padding-top: 2.6%;">
                    <label>{{_("Name")}}</label>
                    <br>
                    <!-- <input class="form-control clientname-select" value="{{recieverKey}}" id="client-name-select"> -->
                    <label style="margin-top: 4%;" id="recieverName">{{recieverKey}}</label>
                </div>
                {%for order in orderSets[primaryKey][recieverKey][uniforNameKey]%}
                <div class="col-3 pieces" style="text-align: center;flex: 0 0 14.7%;padding-left:2%;padding-right:1%"
                    data-piece={{order[10]}}>
                    {%set product=frappe.get_doc('Item',order[3])%}
                    <label style="margin-top: 4%;" class="product">{{product.item_name}}</label>

                    <div class="row">
                        {%if order[9]==1%}

                        <input type="checkbox" name="piecesCheck" class="piecesCheck" id="ck">

                        {%endif%}
                        <div class="col-3" style="max-width:42%">
                            <label>{{_("Order#")}}</label>

                            <span><label style="margin-top: 4%;max-width:100%" id="order_no">{{order[1]}}</label>
                            </span><span>
                                {% if order[11]%}
                                <label style="margin-top: 4%;color:green;cursor:pointer;" class="pl"
                                    data-packList="{{order[11]}}">P</label>
                                {%endif%}</span>


                        </div>
                        <div class="col-3" style="padding-left: 14%;">
                            <label>{{_("Qty")}}</label>
                            <label style="margin-top: 4%;" id="qty">{{order[2]}}</label>

                        </div>
                        <div class="col-3">
                            <label>{{_("Size")}}</label>
                            <label style="margin-top: 4%;" id="size">{{order[8]}}</label>

                        </div>
                    </div>
                    <div style="display: none;" id="commentdiv">
                        <label>{{_("Comment")}}</label>
                        <input type="text" class="form-control clientname-select" id="comment">
                    </div>

                </div>
                {%endfor%}
                <hr style="width: 100%;">
                

            </div>
            {%endfor%}
            {%endfor%}

        </div>
        <div class="row" style="align-items:center;">
            <div style="margin-left: 57%;margin-right: 0px;margin-bottom: 10px;">
                <button type="button" id="plGen" class="btn btn-primary ml-auto plGen" style="padding-left: 23px;">
                    {{_("Packing List")}}
                </button>
            </div>
            <div style="margin-left: 2%;margin-right: 0px;margin-bottom: 10px;">
                <button type="button" id="invGen" class="btn btn-primary ml-auto invGen" style="padding-left: 23px;">
                    {{_("Invoice")}}
                </button>
            </div>
            <div style="margin-right: 0px;margin-left: auto;margin-bottom: 10px;">
                <button type="button" id="plNInvGen" class="btn btn-primary ml-auto" style="margin-right: 24px;">
                    {{_("PL + Inv")}}
                </button>
            </div>

        </div>

    </div>
    <br>
    {%endfor%}
</div>

<div>
    <div style="text-align: center;"><img style="max-width: 150px;"
            src="https://blog.modehero.com/wp-content/uploads/2020/04/logo-mode-hero-moyen.png" alt="Logo" /></div>
    <div style="text-align: center;">address<br />
        <h3>&nbsp;</h3>
    </div>
    <div style="text-align: center;"><span style="font-size: 14pt;">PACKING LIST #</span></div>
</div>
<div style="text-align: right; padding-right: 2%;">
    <div>
        <ul style="list-style-type: none;">
            <ul style="list-style-type: none;">
                <li><span id="date"> date( </span></li>
            </ul>
        </ul>
        <br />
        <ul style="list-style-type: none;">
            <li><strong>Invoiced To<br /></strong>
                <p id="factory">invoiced to</p>
            </li>
            <li><strong>Deliver to</strong>
                <p id="destination">delivered to</p>
            </li>
        </ul>
    </div>
</div>
<table>
    <tbody>
        <tr>
            <td id="size_table" style="width: 100%; text-align: left;">Size Table</td>
        </tr>
    </tbody>
</table>
<p>Employee Name</p>
<p>Product Description</p>
<hr />

<p>name</p>
<div style="display: flex;flex-wrap:wrap">

    <div style="flex:0 0 25%;max-width:25%">
        <div style="display: flex;flex-wrap:wrap">
            <p style="padding-right: 15px;">product 1</p>
            <p style="padding-right: 15px;">qty 1</p>
            <p>size 1</p>
        </div>


    </div>
    <div style="flex:0 0 25%;max-width:25%">
        <div style="display: flex;flex-wrap:wrap">
            <p style="padding-right: 15px;">product 1</p>
            <p style="padding-right: 15px;">qty 1</p>
            <p>size 1</p>
        </div>


    </div>
    <div style="flex:0 0 25%;max-width:25%">
        <div style="display: flex;flex-wrap:wrap">
            <p style="padding-right: 15px;">product 1</p>
            <p style="padding-right: 15px;">qty 1</p>
            <p>size 1</p>
        </div>


    </div>
    <div style="flex:0 0 25%;max-width:25%">
        <div style="display: flex;flex-wrap:wrap">
            <p style="padding-right: 15px;">product 1</p>
            <p style="padding-right: 15px;">qty 1</p>
            <p>size 1</p>
        </div>


    </div>
    <div style="flex:0 0 25%;max-width:25%">
        <div style="display: flex;flex-wrap:wrap">
            <p style="padding-right: 15px;">product 1</p>
            <p style="padding-right: 15px;">qty 1</p>
            <p>size 1</p>
        </div>


    </div>
    <div style="flex:0 0 25%;max-width:25%">
        <div style="display: flex;flex-wrap:wrap">
            <p style="padding-right: 15px;">product 1</p>
            <p style="padding-right: 15px;">qty 1</p>
            <p>size 1</p>
        </div>


    </div>
    <div style="flex:0 0 25%;max-width:25%">
        <div style="display: flex;flex-wrap:wrap">
            <p style="padding-right: 15px;">product 1</p>
            <p style="padding-right: 15px;">qty 1</p>
            <p>size 1</p>
        </div>


    </div>


</div>